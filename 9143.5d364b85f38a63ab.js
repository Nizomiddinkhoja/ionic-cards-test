"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9143],{9143:(b,p,s)=>{s.r(p),s.d(p,{CardsModule:()=>k});var m=s(177),C=s(467),n=s(3953),e=s(4742),d=s(4341);let f=(()=>{var a;class u{constructor(t){this.modalController=t,this.card={title:"",text:""}}dismiss(){this.modalController.dismiss()}save(){this.modalController.dismiss(this.card)}}return(a=u).\u0275fac=function(t){return new(t||a)(n.rXU(e.W3))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-card-modal"]],decls:21,vars:3,consts:[["slot","start","expand","full"],["defaultHref","/"],["position","floating"],[3,"ngModelChange","ngModel"],["expand","full",3,"click"]],template:function(t,o){1&t&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n.nrm(3,"ion-back-button",1),n.k0s(),n.j41(4,"ion-title"),n.EFF(5,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"),n.k0s()()(),n.j41(6,"ion-content")(7,"ion-item")(8,"ion-label",2),n.EFF(9,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),n.k0s(),n.j41(10,"ion-input",3),n.mxI("ngModelChange",function(i){return n.DH7(o.card.title,i)||(o.card.title=i),i}),n.k0s()(),n.j41(11,"ion-item")(12,"ion-label",2),n.EFF(13,"\u0422\u0435\u043a\u0441\u0442"),n.k0s(),n.j41(14,"ion-input",3),n.mxI("ngModelChange",function(i){return n.DH7(o.card.text,i)||(o.card.text=i),i}),n.k0s()(),n.j41(15,"ion-item")(16,"ion-label",2),n.EFF(17,"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),n.k0s(),n.j41(18,"ion-input",3),n.mxI("ngModelChange",function(i){return n.DH7(o.card.image,i)||(o.card.image=i),i}),n.k0s()(),n.j41(19,"ion-button",4),n.bIt("click",function(){return o.save()}),n.EFF(20,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),n.k0s()()),2&t&&(n.R7$(10),n.R50("ngModel",o.card.title),n.R7$(4),n.R50("ngModel",o.card.text),n.R7$(4),n.R50("ngModel",o.card.image))},dependencies:[d.BC,d.vS,e.Jm,e.QW,e.W9,e.eU,e.$w,e.uz,e.he,e.BC,e.ai,e.Gw,e.el]}),u})();var c=s(9583);let h=(()=>{var a;class u{constructor(t){this.router=t,this.deleteEvent=new n.bkB}openCardDetail(t){this.router.navigate(["cards/info",{card:JSON.stringify(t)}])}delete(t,o){t.stopPropagation(),this.deleteEvent.emit(o.title)}}return(a=u).\u0275fac=function(t){return new(t||a)(n.rXU(c.Ix))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-card"]],inputs:{card:"card"},outputs:{deleteEvent:"deleteEvent"},decls:8,vars:3,consts:[[3,"click"],["name","trash",1,"delete-btn",3,"click"],["loading","lazy","alt","test image",3,"src"]],template:function(t,o){1&t&&(n.j41(0,"ion-card",0),n.bIt("click",function(){return o.openCardDetail(o.card)}),n.j41(1,"ion-icon",1),n.bIt("click",function(i){return o.delete(i,o.card)}),n.k0s(),n.nrm(2,"img",2),n.j41(3,"ion-card-header")(4,"ion-card-title"),n.EFF(5),n.k0s()(),n.j41(6,"ion-card-content"),n.EFF(7),n.k0s()()),2&t&&(n.R7$(2),n.Y8G("src",o.card.image,n.B4B),n.R7$(3),n.JRh(o.card.title),n.R7$(2),n.SpI(" ",o.card.text," "))},dependencies:[e.b_,e.I9,e.ME,e.tN,e.iq],styles:[".delete-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:5px;z-index:1;color:#c6c6c6;font-size:25px}"]}),u})();function _(a,u){if(1&a){const r=n.RV6();n.j41(0,"div",9)(1,"app-card",10),n.bIt("deleteEvent",function(o){n.eBV(r);const l=n.XpG();return n.Njj(l.deleteCardEvent(o))}),n.k0s()()}if(2&a){const r=u.$implicit;n.R7$(),n.Y8G("card",r)}}let g=(()=>{var a;class u{constructor(t){this.modalController=t,this.data=[],this.maxDataCount=30,this.generateItems()}generateItems(){if(!(this.data.length>=this.maxDataCount))for(let t=0;t<10;t++)this.data.push({title:"Card Title - "+window.crypto.randomUUID(),text:"Card Text -  "+window.crypto.randomUUID(),image:"https://i.imgur.com/CzXTtJV.jpg"})}onIonInfinite(t){this.generateItems(),setTimeout(()=>{t.target.complete()},500)}deleteCardEvent(t){this.data=this.data.filter(o=>o.title!=t)}addCard(){var t=this;return(0,C.A)(function*(){const o=yield t.modalController.create({component:f});return o.onDidDismiss().then(l=>{l.data&&t.data.push(l.data)}),yield o.present()})()}}return(a=u).\u0275fac=function(t){return new(t||a)(n.rXU(e.W3))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-cards"]],decls:14,vars:2,consts:[[3,"fullscreen"],["slot","start","expand","full"],["defaultHref","/"],["slot","end","expand","full"],[3,"click"],["name","add"],[1,"row"],["class","col-12 col-sm-4",4,"ngFor","ngForOf"],[3,"ionInfinite"],[1,"col-12","col-sm-4"],[3,"deleteEvent","card"]],template:function(t,o){1&t&&(n.j41(0,"ion-content",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-buttons",1),n.nrm(4,"ion-back-button",2),n.k0s(),n.j41(5,"ion-title"),n.EFF(6,"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"),n.k0s(),n.j41(7,"ion-buttons",3)(8,"ion-button",4),n.bIt("click",function(){return o.addCard()}),n.nrm(9,"ion-icon",5),n.k0s()()()(),n.j41(10,"div",6),n.DNE(11,_,2,1,"div",7),n.k0s(),n.j41(12,"ion-infinite-scroll",8),n.bIt("ionInfinite",function(i){return o.onIonInfinite(i)}),n.nrm(13,"ion-infinite-scroll-content"),n.k0s()()),2&t&&(n.Y8G("fullscreen",!0),n.R7$(11),n.Y8G("ngForOf",o.data))},dependencies:[m.Sq,e.Jm,e.QW,e.W9,e.eU,e.iq,e.Ax,e.Hp,e.BC,e.ai,e.el,h]}),u})();var v=s(4102);const I=[{path:"",component:g},{path:"info",component:(()=>{var a;class u{constructor(t,o,l){this.route=t,this.router=o,this.helperService=l,this.route.params.subscribe(i=>{this.card=JSON.parse(i.card)})}saveInput(){var t;null!==(t=this.value)&&void 0!==t&&t.length&&(this.helperService.lastInput.next(this.value),this.router.navigate(["/cards"]))}}return(a=u).\u0275fac=function(t){return new(t||a)(n.rXU(c.nX),n.rXU(c.Ix),n.rXU(v.w))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-card-info"]],decls:12,vars:2,consts:[["slot","start","expand","full"],["defaultHref","/"],["label","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",3,"ngModelChange","keydown.enter","ngModel"],[3,"click"]],template:function(t,o){1&t&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n.nrm(3,"ion-back-button",1),n.k0s(),n.j41(4,"ion-title"),n.EFF(5),n.k0s()()(),n.j41(6,"ion-content")(7,"ion-list")(8,"ion-item")(9,"ion-input",2),n.mxI("ngModelChange",function(i){return n.DH7(o.value,i)||(o.value=i),i}),n.bIt("keydown.enter",function(){return o.saveInput()}),n.k0s()()(),n.j41(10,"ion-button",3),n.bIt("click",function(){return o.saveInput()}),n.EFF(11,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),n.k0s()()),2&t&&(n.R7$(5),n.JRh(o.card.title),n.R7$(4),n.R50("ngModel",o.value))},dependencies:[d.BC,d.vS,e.Jm,e.QW,e.W9,e.eU,e.$w,e.uz,e.nf,e.BC,e.ai,e.Gw,e.el]}),u})()}];let k=(()=>{var a;class u{}return(a=u).\u0275fac=function(t){return new(t||a)},a.\u0275mod=n.$C({type:a}),a.\u0275inj=n.G2t({imports:[m.MD,d.YN,c.iI.forChild(I),e.bv]}),u})()}}]);